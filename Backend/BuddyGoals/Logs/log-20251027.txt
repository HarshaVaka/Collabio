2025-10-27 10:00:03.838 +05:30 [INF] User profile is available. Using 'C:\Users\e40014794\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-27 10:00:04.159 +05:30 [INF] Now listening on: http://localhost:5000
2025-10-27 10:00:04.162 +05:30 [INF] Now listening on: https://localhost:5001
2025-10-27 10:00:04.288 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-27 10:00:04.290 +05:30 [INF] Hosting environment: Development
2025-10-27 10:00:04.291 +05:30 [INF] Content root path: C:\RW_APPS\Collabio\Backend\BuddyGoals
2025-10-27 10:00:18.862 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-10-27 10:00:20.139 +05:30 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-27 10:00:20.283 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 1428.229ms
2025-10-27 10:00:20.302 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-10-27 10:00:20.310 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.4013ms
2025-10-27 10:00:20.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-10-27 10:00:20.412 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.934ms
2025-10-27 10:15:11.509 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 10:15:11.518 +05:30 [INF] CORS policy execution successful.
2025-10-27 10:15:11.521 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 11.4029ms
2025-10-27 10:15:11.532 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 10:15:11.547 +05:30 [INF] CORS policy execution successful.
2025-10-27 10:15:11.551 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 10:15:11.570 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 10:15:11.761 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 10:15:13.781 +05:30 [INF] Executed DbCommand (143ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 10:15:14.076 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 10:15:14.143 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 10:15:14.153 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 2578.8785ms
2025-10-27 10:15:14.155 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 10:15:14.162 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 2629.6884ms
2025-10-27 10:16:24.346 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 10:16:24.356 +05:30 [INF] CORS policy execution successful.
2025-10-27 10:16:24.357 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 11.0814ms
2025-10-27 10:16:24.358 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 10:16:24.367 +05:30 [INF] CORS policy execution successful.
2025-10-27 10:16:24.368 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 10:16:24.369 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 10:16:24.372 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 10:16:24.463 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 10:16:24.614 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 10:16:24.626 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 10:16:24.629 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 258.3508ms
2025-10-27 10:16:24.633 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 10:16:24.634 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 275.7592ms
2025-10-27 21:54:24.244 +05:30 [INF] User profile is available. Using 'C:\Users\e40014794\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-27 21:54:24.544 +05:30 [INF] Now listening on: http://localhost:5000
2025-10-27 21:54:24.546 +05:30 [INF] Now listening on: https://localhost:5001
2025-10-27 21:54:24.601 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-27 21:54:24.603 +05:30 [INF] Hosting environment: Development
2025-10-27 21:54:24.604 +05:30 [INF] Content root path: C:\RW_APPS\Collabio\Backend\BuddyGoals
2025-10-27 21:54:34.070 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-10-27 21:54:34.293 +05:30 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-27 21:54:34.455 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 390.9633ms
2025-10-27 21:54:34.475 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-10-27 21:54:34.485 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.0884ms
2025-10-27 21:54:34.525 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-10-27 21:54:34.541 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.6875ms
2025-10-27 22:06:03.557 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 22:06:03.568 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:06:03.571 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 14.2931ms
2025-10-27 22:06:03.583 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 22:06:03.591 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:06:03.596 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:06:03.631 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:06:03.877 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 22:06:06.068 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:06:06.414 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:06:06.468 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:06:06.480 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 2844.0419ms
2025-10-27 22:06:06.484 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:06:06.494 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 2910.9566ms
2025-10-27 22:13:07.519 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:13:07.565 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:13:07.567 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:13:07.573 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:13:07.579 +05:30 [INF] Refresh token attempt
2025-10-27 22:13:08.519 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:13:08.661 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:13:08.850 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:13:08.921 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:13:08.931 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:13:08.941 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 1364.6664ms
2025-10-27 22:13:08.944 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:13:08.945 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:13:08.948 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:13:08.949 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 1430.3334ms
2025-10-27 22:13:08.953 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:13:08.960 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:13:08.968 +05:30 [INF] Refresh token attempt
2025-10-27 22:13:09.076 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:13:09.190 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 227.3431ms
2025-10-27 22:13:09.192 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:13:09.231 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H7:00000005
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:13:09.304 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 360.0683ms
2025-10-27 22:13:44.777 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 22:13:44.785 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:13:44.786 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 9.5104ms
2025-10-27 22:13:44.788 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 22:13:44.797 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:13:44.798 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:13:44.800 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:13:44.804 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 22:13:44.861 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:13:45.024 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:13:45.029 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:13:45.030 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 227.2873ms
2025-10-27 22:13:45.032 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:13:45.034 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 246.0077ms
2025-10-27 22:13:53.289 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:13:53.297 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:13:53.299 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:13:53.301 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:13:53.305 +05:30 [INF] Refresh token attempt
2025-10-27 22:13:53.363 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:13:53.420 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:13:53.483 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:13:53.540 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:13:53.612 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:13:53.625 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 320.4433ms
2025-10-27 22:13:53.627 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:13:53.627 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:13:53.634 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:13:53.635 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 346.177ms
2025-10-27 22:13:53.640 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:13:53.647 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:13:53.649 +05:30 [INF] Refresh token attempt
2025-10-27 22:13:53.725 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:13:53.781 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 132.1032ms
2025-10-27 22:13:53.783 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:13:53.808 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H7:0000000B
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:13:53.814 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 186.9406ms
2025-10-27 22:15:34.298 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:15:34.311 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:15:34.311 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:15:34.312 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:15:34.314 +05:30 [INF] Refresh token attempt
2025-10-27 22:15:34.377 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:15:34.452 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:15:34.515 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:15:34.570 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:15:39.000 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:15:39.005 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 4690.8095ms
2025-10-27 22:15:39.007 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:15:39.007 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:15:39.009 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:15:39.010 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 4712.1548ms
2025-10-27 22:15:39.011 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:15:39.015 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:15:39.017 +05:30 [INF] Refresh token attempt
2025-10-27 22:15:39.072 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:15:39.104 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 86.4039ms
2025-10-27 22:15:39.143 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:15:39.220 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H7:0000000F
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:15:39.235 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 228.129ms
2025-10-27 22:15:50.649 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:15:50.653 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:15:50.655 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:15:50.656 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:15:50.659 +05:30 [INF] Refresh token attempt
2025-10-27 22:15:50.719 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:15:50.779 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:15:50.865 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:15:50.924 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:15:55.699 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:15:55.702 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 5043.8009ms
2025-10-27 22:15:55.704 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:15:55.705 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:15:55.708 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:15:55.709 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 5060.6076ms
2025-10-27 22:15:55.710 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:15:55.714 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:15:55.717 +05:30 [INF] Refresh token attempt
2025-10-27 22:15:55.771 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:15:55.805 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 88.4887ms
2025-10-27 22:15:55.807 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:15:55.832 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H7:00000013
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:15:55.846 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 141.5061ms
2025-10-27 22:18:21.525 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 22:18:21.534 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:18:21.535 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 10.523ms
2025-10-27 22:18:21.537 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 22:18:21.549 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:18:21.550 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:18:21.551 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:18:21.555 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 22:18:21.963 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:18:22.079 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:18:22.083 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:18:22.085 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 530.3885ms
2025-10-27 22:18:22.088 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:18:22.089 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 552.7876ms
2025-10-27 22:18:25.701 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:18:25.706 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:18:25.707 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:18:25.708 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:18:25.711 +05:30 [INF] Refresh token attempt
2025-10-27 22:18:25.763 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:18:25.819 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:18:25.873 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:18:25.930 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:18:48.303 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:18:48.313 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 22602.4044ms
2025-10-27 22:18:48.319 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:18:48.321 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:18:48.324 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 22623.9707ms
2025-10-27 22:18:48.327 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:18:48.330 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:18:48.331 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:18:48.333 +05:30 [INF] Refresh token attempt
2025-10-27 22:18:50.822 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:19:03.672 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 15339.2567ms
2025-10-27 22:19:03.728 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:19:03.752 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H7:00000019
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:19:03.827 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 15507.4302ms
2025-10-27 22:19:11.351 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:19:11.355 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:19:11.356 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:19:11.357 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:19:11.361 +05:30 [INF] Refresh token attempt
2025-10-27 22:19:15.239 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:19:26.740 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:19:26.863 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:19:26.920 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:19:28.076 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:19:28.078 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 16718.2176ms
2025-10-27 22:19:28.081 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:19:28.081 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:19:28.086 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 16735.3811ms
2025-10-27 22:19:28.088 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:19:28.091 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:19:28.093 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:19:28.095 +05:30 [INF] Refresh token attempt
2025-10-27 22:19:31.788 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:19:33.280 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 5185.7213ms
2025-10-27 22:19:33.282 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:19:33.305 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H7:0000001D
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:19:33.330 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 5249.7486ms
2025-10-27 22:21:15.581 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:21:15.587 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:21:15.588 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:21:15.590 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:21:15.593 +05:30 [INF] Refresh token attempt
2025-10-27 22:21:21.619 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:21:21.673 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:21:21.745 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:21:21.801 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:21:25.189 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:21:25.191 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 9598.3824ms
2025-10-27 22:21:25.193 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:21:25.193 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:21:25.195 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 9614.7397ms
2025-10-27 22:21:25.202 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:21:25.205 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:21:25.206 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:21:25.208 +05:30 [INF] Refresh token attempt
2025-10-27 22:21:25.267 +05:30 [INF] Executed DbCommand (58ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:21:25.294 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 86.2808ms
2025-10-27 22:21:25.295 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:21:25.319 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H8:00000003
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:21:25.341 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 148.0703ms
2025-10-27 22:22:56.184 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:22:56.195 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:22:56.196 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:22:56.198 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:22:56.200 +05:30 [INF] Refresh token attempt
2025-10-27 22:22:56.253 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:22:56.310 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:22:56.395 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:22:56.454 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:22:56.459 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:22:56.462 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 262.131ms
2025-10-27 22:22:56.465 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:22:56.467 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:22:56.470 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:22:56.471 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 287.8963ms
2025-10-27 22:22:56.475 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:22:56.482 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:22:56.485 +05:30 [INF] Refresh token attempt
2025-10-27 22:22:56.536 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:22:56.573 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 87.7758ms
2025-10-27 22:22:56.577 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:22:56.623 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H8:00000007
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:22:56.629 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 165.3198ms
2025-10-27 22:25:06.555 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 22:25:06.561 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:25:06.562 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 6.8385ms
2025-10-27 22:25:06.563 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 22:25:06.571 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:25:06.571 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:25:06.573 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:25:06.575 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 22:25:07.018 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:25:07.116 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:25:07.148 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:25:07.155 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 580.3314ms
2025-10-27 22:25:07.158 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:25:07.159 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 596.2373ms
2025-10-27 22:25:09.654 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:25:09.658 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:25:09.659 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:25:09.660 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:25:09.663 +05:30 [INF] Refresh token attempt
2025-10-27 22:25:09.717 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:25:09.769 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:25:09.827 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:25:09.881 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:25:09.883 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:25:09.885 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 222.3176ms
2025-10-27 22:25:09.886 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:25:09.887 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:25:09.890 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:25:09.891 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 237.6599ms
2025-10-27 22:25:09.892 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:25:09.898 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:25:09.900 +05:30 [INF] Refresh token attempt
2025-10-27 22:25:09.949 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:25:09.996 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 95.9718ms
2025-10-27 22:25:09.997 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:25:10.031 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H8:0000000D
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:25:10.035 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 149.3896ms
2025-10-27 22:26:56.990 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:26:56.999 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:26:57.000 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:26:57.001 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:26:57.003 +05:30 [INF] Refresh token attempt
2025-10-27 22:26:57.052 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:26:57.110 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:26:57.180 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:26:57.236 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:26:57.240 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:26:57.241 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 238.5477ms
2025-10-27 22:26:57.245 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:26:57.247 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:26:57.252 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:26:57.253 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 263.0643ms
2025-10-27 22:26:57.254 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:26:57.258 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:26:57.260 +05:30 [INF] Refresh token attempt
2025-10-27 22:26:57.313 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:26:57.354 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 94.3796ms
2025-10-27 22:26:57.356 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:26:57.382 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93H8:00000011
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:26:57.387 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 143.5699ms
2025-10-27 22:40:02.819 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:40:02.826 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:40:02.827 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:40:02.828 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:40:02.831 +05:30 [INF] Refresh token attempt
2025-10-27 22:40:03.747 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:40:03.840 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:40:03.932 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:40:04.013 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:40:04.030 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:40:04.040 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 1210.4472ms
2025-10-27 22:40:04.048 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:40:04.059 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 1240.6885ms
2025-10-27 22:40:19.221 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 22:40:19.227 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:40:19.228 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 7.0929ms
2025-10-27 22:40:19.229 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 22:40:19.233 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:40:19.234 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:40:19.235 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:40:19.237 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 22:40:19.293 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:40:19.351 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:40:19.356 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:40:19.358 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 121.4734ms
2025-10-27 22:40:19.361 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:40:19.362 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 133.7033ms
2025-10-27 22:42:21.357 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 22:42:21.363 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:42:21.364 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 7.9226ms
2025-10-27 22:42:21.365 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 22:42:21.375 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:42:21.376 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:42:21.377 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:42:21.379 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 22:42:21.432 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:42:21.488 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:42:21.521 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:42:21.526 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 147.9495ms
2025-10-27 22:42:21.535 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:42:21.542 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 176.6978ms
2025-10-27 22:42:43.115 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 22:42:43.118 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:42:43.119 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 5.0751ms
2025-10-27 22:42:43.121 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 22:42:43.128 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:42:43.130 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:42:43.132 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:42:43.134 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 22:42:43.200 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:42:43.258 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:42:43.314 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:42:43.346 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 212.4953ms
2025-10-27 22:42:43.351 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:42:43.352 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 230.9133ms
2025-10-27 22:55:00.196 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:55:00.204 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:55:00.205 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:55:00.208 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:55:00.210 +05:30 [INF] Refresh token attempt
2025-10-27 22:55:01.053 +05:30 [INF] Executed DbCommand (109ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:55:01.136 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:55:01.193 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:55:01.256 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:55:01.259 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:55:01.261 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 1050.812ms
2025-10-27 22:55:01.262 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:55:01.264 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 1068.4015ms
2025-10-27 22:55:17.725 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-27 22:55:17.732 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:55:17.733 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 8.7863ms
2025-10-27 22:55:17.738 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-27 22:55:17.746 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:55:17.748 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:55:17.749 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:55:17.751 +05:30 [INF] Registration attempt from IP: ::1
2025-10-27 22:55:17.805 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:55:17.860 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:55:17.933 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:55:17.965 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 214.3664ms
2025-10-27 22:55:17.971 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-27 22:55:17.973 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 235.0259ms
2025-10-27 22:55:43.428 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:55:43.436 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:55:43.437 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:55:43.438 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:55:43.441 +05:30 [INF] Refresh token attempt
2025-10-27 22:55:43.496 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:55:43.548 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:55:43.600 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:55:43.669 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:55:43.672 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:55:43.674 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 234.1226ms
2025-10-27 22:55:43.676 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:55:43.677 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 249.1824ms
2025-10-27 22:58:22.000 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:58:22.009 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:58:22.010 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:58:22.012 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:58:22.014 +05:30 [INF] Refresh token attempt
2025-10-27 22:58:22.071 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:58:22.130 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:58:22.179 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:58:22.230 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:58:22.239 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:58:22.240 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 226.7996ms
2025-10-27 22:58:22.243 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:58:22.244 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 244.4173ms
2025-10-27 22:59:42.004 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:59:42.016 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:59:42.018 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:59:42.019 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:59:42.021 +05:30 [INF] Refresh token attempt
2025-10-27 22:59:42.083 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:59:42.149 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:59:42.216 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:59:42.274 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:59:42.276 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:59:42.277 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 256.2933ms
2025-10-27 22:59:42.279 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:59:42.280 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 276.1648ms
2025-10-27 22:59:42.299 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:59:42.302 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:59:42.303 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:59:42.304 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:59:42.306 +05:30 [INF] Refresh token attempt
2025-10-27 22:59:42.363 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:59:42.420 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 22:59:42.505 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 22:59:42.611 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 22:59:42.614 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 22:59:42.615 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 308.8312ms
2025-10-27 22:59:42.616 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 22:59:42.617 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:59:42.621 +05:30 [INF] CORS policy execution successful.
2025-10-27 22:59:42.623 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 323.5226ms
2025-10-27 22:59:42.624 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:59:42.630 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 22:59:42.634 +05:30 [INF] Refresh token attempt
2025-10-27 22:59:42.685 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 22:59:42.719 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 85.4342ms
2025-10-27 22:59:42.722 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 22:59:42.759 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93HE:0000000B
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 22:59:42.763 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 146.9485ms
2025-10-27 23:00:23.893 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:00:23.897 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:00:23.899 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:23.900 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:00:23.902 +05:30 [INF] Refresh token attempt
2025-10-27 23:00:24.377 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:00:24.443 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:00:24.559 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:00:24.661 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:00:24.708 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:00:24.714 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 812.5453ms
2025-10-27 23:00:24.718 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:24.723 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 830.1772ms
2025-10-27 23:00:24.741 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:00:24.745 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:00:24.745 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:24.746 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:00:24.748 +05:30 [INF] Refresh token attempt
2025-10-27 23:00:24.809 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:00:24.869 +05:30 [INF] Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:00:24.928 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:00:25.005 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:00:25.009 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:00:25.012 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 264.1886ms
2025-10-27 23:00:25.016 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:25.015 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:00:25.018 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 276.3502ms
2025-10-27 23:00:25.021 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:00:25.024 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:25.025 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:00:25.027 +05:30 [INF] Refresh token attempt
2025-10-27 23:00:25.082 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:00:25.119 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 91.9ms
2025-10-27 23:00:25.122 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:25.155 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93HE:00000011
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 23:00:25.161 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 145.6446ms
2025-10-27 23:00:30.494 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:00:30.502 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:00:30.505 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:30.507 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:00:30.511 +05:30 [INF] Refresh token attempt
2025-10-27 23:00:30.573 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:00:30.629 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:00:30.690 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:00:30.746 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:00:30.751 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:00:30.752 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 241.6995ms
2025-10-27 23:00:30.754 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:30.756 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 261.448ms
2025-10-27 23:00:30.772 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:00:30.776 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:00:30.776 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:30.777 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:00:30.779 +05:30 [INF] Refresh token attempt
2025-10-27 23:00:30.834 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:00:30.925 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:00:30.984 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:00:31.063 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:00:31.080 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:00:31.093 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 313.2136ms
2025-10-27 23:00:31.095 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:00:31.096 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:31.100 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:00:31.101 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 329.5937ms
2025-10-27 23:00:31.102 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:31.109 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:00:31.116 +05:30 [INF] Refresh token attempt
2025-10-27 23:00:31.169 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:00:31.203 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 87.2578ms
2025-10-27 23:00:31.205 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:00:31.248 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93HE:00000017
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 23:00:31.252 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 157.2503ms
2025-10-27 23:18:44.470 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:18:44.480 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:18:44.481 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:44.483 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:18:44.484 +05:30 [INF] Refresh token attempt
2025-10-27 23:18:45.341 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:18:45.442 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:18:45.507 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:18:45.571 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:18:45.591 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:18:45.593 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 1108.6557ms
2025-10-27 23:18:45.598 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:45.604 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 1134.6666ms
2025-10-27 23:18:45.623 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:18:45.626 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:18:45.627 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:45.629 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:18:45.630 +05:30 [INF] Refresh token attempt
2025-10-27 23:18:45.681 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:18:45.734 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:18:45.787 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:18:45.839 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:18:45.844 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:18:45.846 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 215.1657ms
2025-10-27 23:18:45.847 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:45.848 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 225.7644ms
2025-10-27 23:18:45.851 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:18:45.855 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:18:45.856 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:45.857 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:18:45.859 +05:30 [INF] Refresh token attempt
2025-10-27 23:18:45.909 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:18:45.961 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:18:46.020 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:18:46.074 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:18:46.077 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:18:46.078 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 219.4796ms
2025-10-27 23:18:46.080 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:18:46.081 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:46.084 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:18:46.085 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 234.1723ms
2025-10-27 23:18:46.090 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:46.094 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:18:46.096 +05:30 [INF] Refresh token attempt
2025-10-27 23:18:46.145 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:18:46.178 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 81.8558ms
2025-10-27 23:18:46.194 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:46.220 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93HE:0000001F
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 23:18:46.227 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 147.7478ms
2025-10-27 23:18:56.745 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:18:56.749 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:18:56.750 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:56.752 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:18:56.754 +05:30 [INF] Refresh token attempt
2025-10-27 23:18:56.813 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:18:56.871 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:18:56.979 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:18:57.065 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:18:57.073 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:18:57.077 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 323.3448ms
2025-10-27 23:18:57.079 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:57.088 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 342.8331ms
2025-10-27 23:18:57.106 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:18:57.111 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:18:57.114 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:57.116 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:18:57.120 +05:30 [INF] Refresh token attempt
2025-10-27 23:18:57.174 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:18:57.231 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:18:57.311 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:18:57.397 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:18:57.424 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:18:57.425 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 304.8838ms
2025-10-27 23:18:57.427 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:57.428 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 322.7625ms
2025-10-27 23:18:57.431 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:18:57.437 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:18:57.439 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:57.456 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:18:57.458 +05:30 [INF] Refresh token attempt
2025-10-27 23:18:57.509 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:18:57.567 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:18:57.676 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:18:57.732 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:18:57.758 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:18:57.772 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 313.8788ms
2025-10-27 23:18:57.773 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:18:57.805 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:57.808 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:18:57.809 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 378.9676ms
2025-10-27 23:18:57.811 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:57.815 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:18:57.817 +05:30 [INF] Refresh token attempt
2025-10-27 23:18:57.868 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:18:57.907 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 90.3909ms
2025-10-27 23:18:57.909 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:18:57.938 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93HE:00000027
BuddyGoals.Exceptions.ApiException: Invalid Refresh Token
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 140
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-27 23:18:58.137 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 363.695ms
2025-10-27 23:22:09.368 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:22:09.377 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:22:09.378 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:22:09.379 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:22:09.381 +05:30 [INF] Refresh token attempt
2025-10-27 23:22:09.433 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:22:09.487 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:22:09.551 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:22:09.604 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:22:09.610 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:22:09.612 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 231.2238ms
2025-10-27 23:22:09.613 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:22:09.615 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 247.2769ms
2025-10-27 23:22:09.633 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:22:09.636 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:22:09.637 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:22:09.638 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:22:09.640 +05:30 [INF] Refresh token attempt
2025-10-27 23:22:09.692 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:22:09.748 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:22:09.805 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:22:09.862 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:22:09.977 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:22:10.008 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 367.8875ms
2025-10-27 23:22:10.041 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:22:10.042 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 409.5623ms
2025-10-27 23:22:17.609 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:22:17.613 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:22:17.614 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:22:17.615 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:22:17.620 +05:30 [INF] Refresh token attempt
2025-10-27 23:22:17.673 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:22:17.730 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:22:17.826 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:22:17.880 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:22:17.883 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:22:17.884 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 264.899ms
2025-10-27 23:22:17.886 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:22:17.887 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 278.4028ms
2025-10-27 23:22:17.908 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:22:17.912 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:22:17.913 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:22:17.914 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:22:17.915 +05:30 [INF] Refresh token attempt
2025-10-27 23:22:17.966 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:22:18.021 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:22:18.075 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:22:18.157 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:22:18.161 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:22:18.163 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 248.0631ms
2025-10-27 23:22:18.165 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:22:18.166 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 258.5869ms
2025-10-27 23:23:00.822 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:23:00.829 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:23:00.830 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:23:00.831 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:23:00.834 +05:30 [INF] Refresh token attempt
2025-10-27 23:23:00.894 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:23:00.947 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:23:01.005 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:23:01.060 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:23:01.062 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:23:01.064 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 229.9472ms
2025-10-27 23:23:01.068 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:23:01.069 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 247.2954ms
2025-10-27 23:23:27.267 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:23:27.276 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:23:27.277 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:23:27.279 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:23:27.283 +05:30 [INF] Refresh token attempt
2025-10-27 23:23:27.345 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:23:27.400 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:23:27.457 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:23:27.513 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:23:27.520 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:23:27.522 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 238.8321ms
2025-10-27 23:23:27.524 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:23:27.525 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 258.8676ms
2025-10-27 23:23:38.854 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:23:38.859 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:23:38.861 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:23:38.862 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:23:38.864 +05:30 [INF] Refresh token attempt
2025-10-27 23:23:38.923 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:23:38.980 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:23:39.032 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:23:39.084 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:23:39.089 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:23:39.093 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 228.6229ms
2025-10-27 23:23:39.096 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:23:39.097 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 243.8377ms
2025-10-27 23:24:12.979 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:24:12.986 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:24:12.987 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:24:12.988 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:24:12.990 +05:30 [INF] Refresh token attempt
2025-10-27 23:24:13.399 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:24:13.449 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:24:13.506 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:24:13.566 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:24:13.570 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:24:13.572 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 583.141ms
2025-10-27 23:24:13.575 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:24:13.577 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 598.2741ms
2025-10-27 23:24:20.346 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:24:20.350 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:24:20.350 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:24:20.351 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:24:20.353 +05:30 [INF] Refresh token attempt
2025-10-27 23:24:20.404 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:24:20.457 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:24:20.510 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:24:20.615 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:24:20.621 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:24:20.626 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 272.5284ms
2025-10-27 23:24:20.659 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:24:20.688 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 342.3893ms
2025-10-27 23:24:39.531 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:24:39.534 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:24:39.535 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:24:39.536 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:24:39.540 +05:30 [INF] Refresh token attempt
2025-10-27 23:24:39.598 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:24:39.650 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:24:39.701 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:24:39.759 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:24:39.762 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:24:39.763 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 223.9341ms
2025-10-27 23:24:39.765 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:24:39.766 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 235.5739ms
2025-10-27 23:26:09.350 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:26:09.360 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:26:09.361 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:26:09.362 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:26:09.364 +05:30 [INF] Refresh token attempt
2025-10-27 23:26:09.437 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:26:09.488 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:26:09.539 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:26:09.590 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:26:09.616 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:26:09.618 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 254.1844ms
2025-10-27 23:26:09.621 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:26:09.622 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 271.661ms
2025-10-27 23:26:18.173 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:26:18.179 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:26:18.182 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:26:18.183 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:26:18.186 +05:30 [INF] Refresh token attempt
2025-10-27 23:26:18.252 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:26:18.309 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:26:18.365 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:26:18.416 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:26:18.419 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:26:18.421 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 235.111ms
2025-10-27 23:26:18.423 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:26:18.425 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 252.0625ms
2025-10-27 23:29:13.164 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:29:13.178 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:29:13.180 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:29:13.182 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:29:13.185 +05:30 [INF] Refresh token attempt
2025-10-27 23:29:13.237 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:29:13.299 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:29:13.352 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:29:13.430 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:29:13.432 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:29:13.433 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 249.6196ms
2025-10-27 23:29:13.435 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:29:13.436 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 272.3937ms
2025-10-27 23:29:13.453 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:29:13.456 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:29:13.457 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:29:13.458 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:29:13.460 +05:30 [INF] Refresh token attempt
2025-10-27 23:29:13.518 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:29:13.573 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:29:13.625 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:29:13.738 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:29:13.830 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:29:13.884 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 424.0945ms
2025-10-27 23:29:13.888 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:29:13.889 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 436.5796ms
2025-10-27 23:29:55.230 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:29:55.240 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:29:55.241 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:29:55.243 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:29:55.247 +05:30 [INF] Refresh token attempt
2025-10-27 23:29:55.299 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:29:55.356 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:29:55.408 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:29:55.465 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:29:55.471 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:29:55.474 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 228.1101ms
2025-10-27 23:29:55.477 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:29:55.479 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 248.6351ms
2025-10-27 23:29:55.495 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:29:55.498 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:29:55.503 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:29:55.506 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:29:55.508 +05:30 [INF] Refresh token attempt
2025-10-27 23:29:55.560 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:29:55.612 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:29:55.726 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:29:55.813 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:29:55.815 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:29:55.817 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 308.8384ms
2025-10-27 23:29:55.829 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:29:55.836 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 341.0283ms
2025-10-27 23:30:17.029 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:30:17.034 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:30:17.035 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:30:17.037 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:30:17.039 +05:30 [INF] Refresh token attempt
2025-10-27 23:30:17.090 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:30:17.142 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:30:17.196 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:30:17.263 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:30:17.273 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:30:17.278 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 238.7566ms
2025-10-27 23:30:17.281 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:30:17.288 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 258.8789ms
2025-10-27 23:30:17.305 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-27 23:30:17.310 +05:30 [INF] CORS policy execution successful.
2025-10-27 23:30:17.310 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:30:17.314 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-27 23:30:17.315 +05:30 [INF] Refresh token attempt
2025-10-27 23:30:17.367 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-27 23:30:17.420 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-27 23:30:17.496 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-27 23:30:17.550 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-27 23:30:17.553 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-27 23:30:17.555 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 239.2268ms
2025-10-27 23:30:17.558 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-27 23:30:17.559 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 254.7901ms
