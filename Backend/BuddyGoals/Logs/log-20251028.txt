2025-10-28 08:31:39.810 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 08:31:39.837 +05:30 [INF] CORS policy execution successful.
2025-10-28 08:31:39.838 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 08:31:39.843 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 08:31:39.847 +05:30 [INF] Refresh token attempt
2025-10-28 08:31:54.920 +05:30 [ERR] An error occurred using the connection to database 'neondb' on server 'tcp://ep-blue-hill-a1lja5gt-pooler.ap-southeast-1.aws.neon.tech:5432'.
2025-10-28 08:31:54.963 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'BuddyGoals.Data.BuddyGoalsDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.184.177:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.184.177:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-28 08:31:55.113 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 15265.8712ms
2025-10-28 08:31:55.118 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 08:31:55.165 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGLEL5H93HJ:00000001
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.184.177:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AuthMicroService.Repositories.RefreshTokenRepo.GetRefreshTokenAsync(String token) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Repositories\RefreshTokenRepo.cs:line 21
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 137
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-28 08:31:55.203 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 499 null application/json; charset=utf-8 15394.7698ms
2025-10-28 16:55:07.497 +05:30 [INF] User profile is available. Using 'C:\Users\e40014794\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-28 16:55:07.786 +05:30 [INF] Now listening on: http://localhost:5000
2025-10-28 16:55:07.788 +05:30 [INF] Now listening on: https://localhost:5001
2025-10-28 16:55:07.837 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-28 16:55:07.838 +05:30 [INF] Hosting environment: Development
2025-10-28 16:55:07.840 +05:30 [INF] Content root path: C:\RW_APPS\Collabio\Backend\BuddyGoals
2025-10-28 16:55:16.226 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-10-28 16:55:16.925 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 702.895ms
2025-10-28 16:55:16.939 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-10-28 16:55:16.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.9882ms
2025-10-28 16:55:16.983 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-10-28 16:55:16.991 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.5921ms
2025-10-28 16:56:16.333 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:56:16.345 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:56:16.350 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:56:16.372 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:56:16.560 +05:30 [INF] Refresh token attempt
2025-10-28 16:56:27.861 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:56:27.868 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:56:27.869 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:56:27.871 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:56:27.876 +05:30 [INF] Refresh token attempt
2025-10-28 16:56:32.213 +05:30 [ERR] An error occurred using the connection to database 'neondb' on server 'tcp://ep-blue-hill-a1lja5gt-pooler.ap-southeast-1.aws.neon.tech:5432'.
2025-10-28 16:56:32.276 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'BuddyGoals.Data.BuddyGoalsDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-28 16:56:32.599 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 16221.6534ms
2025-10-28 16:56:32.718 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:56:32.795 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGM2IJ47QH6:00000001
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AuthMicroService.Repositories.RefreshTokenRepo.GetRefreshTokenAsync(String token) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Repositories\RefreshTokenRepo.cs:line 21
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 137
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-28 16:56:32.873 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 499 null application/json; charset=utf-8 16539.126ms
2025-10-28 16:56:33.475 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:56:33.479 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:56:33.480 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:56:33.482 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:56:33.489 +05:30 [INF] Refresh token attempt
2025-10-28 16:56:36.485 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:56:36.492 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:56:36.493 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:56:36.494 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:56:36.497 +05:30 [INF] Refresh token attempt
2025-10-28 16:56:42.905 +05:30 [ERR] An error occurred using the connection to database 'neondb' on server 'tcp://ep-blue-hill-a1lja5gt-pooler.ap-southeast-1.aws.neon.tech:5432'.
2025-10-28 16:56:42.926 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'BuddyGoals.Data.BuddyGoalsDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-28 16:56:43.028 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 15153.7134ms
2025-10-28 16:56:43.030 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:56:43.068 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGM2IJ47QH6:00000003
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AuthMicroService.Repositories.RefreshTokenRepo.GetRefreshTokenAsync(String token) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Repositories\RefreshTokenRepo.cs:line 21
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 137
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-28 16:56:43.207 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 499 null application/json; charset=utf-8 15345.161ms
2025-10-28 16:56:48.560 +05:30 [ERR] An error occurred using the connection to database 'neondb' on server 'tcp://ep-blue-hill-a1lja5gt-pooler.ap-southeast-1.aws.neon.tech:5432'.
2025-10-28 16:56:48.575 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'BuddyGoals.Data.BuddyGoalsDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-28 16:56:48.679 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 15195.7417ms
2025-10-28 16:56:48.681 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:56:48.713 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGM2IJ47QH6:00000005
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AuthMicroService.Repositories.RefreshTokenRepo.GetRefreshTokenAsync(String token) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Repositories\RefreshTokenRepo.cs:line 21
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 137
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-28 16:56:48.775 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 499 null application/json; charset=utf-8 15300.6251ms
2025-10-28 16:56:51.529 +05:30 [ERR] An error occurred using the connection to database 'neondb' on server 'tcp://ep-blue-hill-a1lja5gt-pooler.ap-southeast-1.aws.neon.tech:5432'.
2025-10-28 16:56:51.532 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'BuddyGoals.Data.BuddyGoalsDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-28 16:56:51.615 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 15117.8569ms
2025-10-28 16:56:51.617 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:56:51.650 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGM2IJ47QH6:00000007
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Failed to connect to 13.228.46.236:5432
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AuthMicroService.Repositories.RefreshTokenRepo.GetRefreshTokenAsync(String token) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Repositories\RefreshTokenRepo.cs:line 21
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 137
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-28 16:56:51.726 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 500 null application/json; charset=utf-8 15240.6247ms
2025-10-28 16:57:33.252 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:57:33.260 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:57:33.261 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:57:33.262 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:57:33.265 +05:30 [INF] Refresh token attempt
2025-10-28 16:57:34.724 +05:30 [INF] Executed DbCommand (139ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-28 16:57:34.976 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 16:57:35.240 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-28 16:57:35.373 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 16:57:35.386 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 16:57:35.398 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 2132.9734ms
2025-10-28 16:57:35.400 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:57:35.401 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 2149.437ms
2025-10-28 16:57:35.428 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:57:35.431 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:57:35.432 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:57:35.434 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:57:35.435 +05:30 [INF] Refresh token attempt
2025-10-28 16:57:35.521 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-28 16:57:35.616 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 16:57:35.702 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-28 16:57:35.805 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 16:57:35.820 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 16:57:35.830 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 394.7867ms
2025-10-28 16:57:35.832 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:57:35.834 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 406.0071ms
2025-10-28 16:58:03.092 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:58:03.100 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:58:03.101 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:58:03.102 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:58:03.103 +05:30 [INF] Refresh token attempt
2025-10-28 16:58:03.178 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 75.292ms
2025-10-28 16:58:03.190 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:58:03.203 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGM2IJ47QH8:00000001
BuddyGoals.Exceptions.ApiException: Refresh Token is missing
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 135
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-28 16:58:03.212 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 121.182ms
2025-10-28 16:58:11.685 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-28 16:58:11.689 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:58:11.691 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 6.0083ms
2025-10-28 16:58:11.698 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-28 16:58:11.707 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:58:11.708 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-28 16:58:11.717 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:58:11.752 +05:30 [INF] Registration attempt from IP: ::1
2025-10-28 16:58:11.851 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 16:58:11.949 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 16:58:11.955 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 16:58:11.956 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 234.6888ms
2025-10-28 16:58:11.958 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-28 16:58:11.959 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 260.9184ms
2025-10-28 16:58:35.138 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:58:35.144 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:58:35.145 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:58:35.147 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:58:35.149 +05:30 [INF] Refresh token attempt
2025-10-28 16:58:35.231 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-28 16:58:35.335 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 16:58:35.437 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-28 16:58:35.523 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 16:58:35.527 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 16:58:35.529 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 380.2055ms
2025-10-28 16:58:35.531 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:58:35.532 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 394.373ms
2025-10-28 16:58:35.558 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:58:35.562 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:58:35.563 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:58:35.565 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:58:35.567 +05:30 [INF] Refresh token attempt
2025-10-28 16:58:35.651 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-28 16:58:35.820 +05:30 [INF] Executed DbCommand (164ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 16:58:35.906 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-28 16:58:35.995 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 16:58:35.999 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 16:58:36.000 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 433.7222ms
2025-10-28 16:58:36.002 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:58:36.004 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 446.3881ms
2025-10-28 16:58:57.731 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:58:57.736 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:58:57.738 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:58:57.739 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:58:57.742 +05:30 [INF] Refresh token attempt
2025-10-28 16:58:57.776 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 34.6828ms
2025-10-28 16:58:57.779 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:58:57.794 +05:30 [ERR] Unhandled Exception. Trace Id:0HNGM2IJ47QHC:00000001
BuddyGoals.Exceptions.ApiException: Refresh Token is missing
   at BuddyGoals.Services.AuthService.RefreshTokenAsync(HttpContext httpContext, String ipAddress) in C:\RW_APPS\Collabio\Backend\BuddyGoals\Services\AuthService.cs:line 135
   at BuddyGoals.Controllers.AuthController.RefreshToken() in C:\RW_APPS\Collabio\Backend\BuddyGoals\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at BuddyGoals.GlobalExceptionHandler.InvokeAsync(HttpContext httpContext) in C:\RW_APPS\Collabio\Backend\BuddyGoals\GlobalExceptionHandler.cs:line 14
2025-10-28 16:58:57.804 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 400 null application/json; charset=utf-8 72.9339ms
2025-10-28 16:59:11.876 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-28 16:59:11.879 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:59:11.880 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 4.3038ms
2025-10-28 16:59:11.881 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-28 16:59:11.889 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:59:11.890 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-28 16:59:11.892 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:59:11.898 +05:30 [INF] Registration attempt from IP: ::1
2025-10-28 16:59:11.979 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 16:59:12.077 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 16:59:12.081 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 16:59:12.082 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 187.757ms
2025-10-28 16:59:12.086 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-28 16:59:12.087 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 206.4945ms
2025-10-28 16:59:15.943 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:59:15.951 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:59:15.954 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:59:15.957 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:59:15.961 +05:30 [INF] Refresh token attempt
2025-10-28 16:59:16.041 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-28 16:59:16.164 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 16:59:16.249 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-28 16:59:16.335 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 16:59:16.374 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 16:59:16.381 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 420.9843ms
2025-10-28 16:59:16.385 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:59:16.386 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 443.7932ms
2025-10-28 16:59:16.404 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/auth/refresh-token - null null
2025-10-28 16:59:16.409 +05:30 [INF] CORS policy execution successful.
2025-10-28 16:59:16.411 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:59:16.414 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 16:59:16.416 +05:30 [INF] Refresh token attempt
2025-10-28 16:59:16.499 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__token_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."RefreshTokenId", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."Revoked", r."RevokedByIp", r."Token", r."UserId"
FROM "RefreshTokens" AS r
WHERE r."Token" = @__token_0
LIMIT 1
2025-10-28 16:59:16.594 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 16:59:16.688 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "CreatedAt" = @p0, "CreatedByIp" = @p1, "ExpiresAt" = @p2, "ReplacedByToken" = @p3, "Revoked" = @p4, "RevokedByIp" = @p5, "Token" = @p6, "UserId" = @p7
WHERE "RefreshTokenId" = @p8;
2025-10-28 16:59:16.775 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 16:59:16.782 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 16:59:16.795 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals) in 379.2808ms
2025-10-28 16:59:16.800 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.RefreshToken (BuddyGoals)'
2025-10-28 16:59:16.802 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/auth/refresh-token - 200 null application/json; charset=utf-8 398.7184ms
2025-10-28 23:00:53.708 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-28 23:00:54.410 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-10-28 23:00:54.417 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-28 23:00:54.473 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-10-28 23:00:54.522 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-28 23:00:54.527 +05:30 [INF] Applying migration '20251028173034_UserProfile'.
2025-10-28 23:00:54.650 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserProfiles" (
    "ProfileId" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "FirstName" text,
    "LastName" text,
    "PhoneNo" text,
    "CountryCode" text,
    "Gender" text,
    "Bio" text,
    "DOB" date,
    "ProfileUrl" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" text,
    "ModifiedAt" timestamp with time zone NOT NULL,
    "ModifiedBy" text,
    CONSTRAINT "PK_UserProfiles" PRIMARY KEY ("ProfileId"),
    CONSTRAINT "FK_UserProfiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId") ON DELETE CASCADE
);
2025-10-28 23:00:54.711 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserProfiles_UserId" ON "UserProfiles" ("UserId");
2025-10-28 23:00:54.768 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251028173034_UserProfile', '9.0.10');
2025-10-28 23:34:07.590 +05:30 [INF] User profile is available. Using 'C:\Users\e40014794\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-28 23:34:08.113 +05:30 [INF] Now listening on: http://localhost:5000
2025-10-28 23:34:08.117 +05:30 [INF] Now listening on: https://localhost:5001
2025-10-28 23:34:08.218 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-28 23:34:08.221 +05:30 [INF] Hosting environment: Development
2025-10-28 23:34:08.223 +05:30 [INF] Content root path: C:\RW_APPS\Collabio\Backend\BuddyGoals
2025-10-28 23:34:18.155 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-10-28 23:34:18.763 +05:30 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-28 23:34:19.114 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 967.6291ms
2025-10-28 23:34:19.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2025-10-28 23:34:19.211 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 13.6863ms
2025-10-28 23:34:19.263 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-10-28 23:34:19.287 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.1008ms
2025-10-28 23:38:12.720 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/register - null null
2025-10-28 23:38:12.773 +05:30 [INF] CORS policy execution successful.
2025-10-28 23:38:12.781 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/register - 204 null null 62.0377ms
2025-10-28 23:38:12.814 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/register - application/json 120
2025-10-28 23:38:12.838 +05:30 [INF] CORS policy execution successful.
2025-10-28 23:38:12.844 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Register (BuddyGoals)'
2025-10-28 23:38:12.891 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BuddyGoals.DTOs.RegisterDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 23:38:13.344 +05:30 [INF] Registration attempt from IP: ::1
2025-10-28 23:38:15.259 +05:30 [INF] Executed DbCommand (141ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("UserId", "CreatedAt", "CreatedBy", "Email", "HashedPassowrd", "ModifiedAt", "ModifiedBy", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-10-28 23:38:15.522 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Date), @p6='?', @p7='?', @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserProfiles" ("ProfileId", "Bio", "CountryCode", "CreatedAt", "CreatedBy", "DOB", "FirstName", "Gender", "LastName", "ModifiedAt", "ModifiedBy", "PhoneNo", "ProfileUrl", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-10-28 23:38:15.808 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 23:38:15.862 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 23:38:15.881 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Register (BuddyGoals) in 2976.1429ms
2025-10-28 23:38:15.886 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Register (BuddyGoals)'
2025-10-28 23:38:15.899 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/register - 200 null application/json; charset=utf-8 3086.0263ms
2025-10-28 23:38:48.221 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/auth/login - null null
2025-10-28 23:38:48.253 +05:30 [INF] CORS policy execution successful.
2025-10-28 23:38:48.258 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/auth/login - 204 null null 39.0913ms
2025-10-28 23:38:48.283 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/auth/login - application/json 55
2025-10-28 23:38:48.299 +05:30 [INF] CORS policy execution successful.
2025-10-28 23:38:48.304 +05:30 [INF] Executing endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-28 23:38:48.314 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BuddyGoals.DTOs.LoginDto) on controller BuddyGoals.Controllers.AuthController (BuddyGoals).
2025-10-28 23:38:48.327 +05:30 [INF] Registration attempt from IP: ::1
2025-10-28 23:38:48.847 +05:30 [INF] Executed DbCommand (58ms) [Parameters=[@__mail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."UserId", u1."CreatedAt", u1."CreatedBy", u1."Email", u1."HashedPassowrd", u1."ModifiedAt", u1."ModifiedBy", u1."UserName", s."UserId", s."RoleId", s."RoleId0", s."RoleName"
FROM (
    SELECT u."UserId", u."CreatedAt", u."CreatedBy", u."Email", u."HashedPassowrd", u."ModifiedAt", u."ModifiedBy", u."UserName"
    FROM "Users" AS u
    WHERE u."Email" = @__mail_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", r."RoleId" AS "RoleId0", r."RoleName"
    FROM "UserRoles" AS u0
    INNER JOIN "Roles" AS r ON u0."RoleId" = r."RoleId"
) AS s ON u1."UserId" = s."UserId"
ORDER BY u1."UserId", s."UserId", s."RoleId"
2025-10-28 23:38:48.940 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "Revoked", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "RefreshTokenId";
2025-10-28 23:38:48.946 +05:30 [INF] Executing OkObjectResult, writing value of type 'BuddyGoals.DTOs.AuthResponseDto'.
2025-10-28 23:38:48.948 +05:30 [INF] Executed action BuddyGoals.Controllers.AuthController.Login (BuddyGoals) in 629.9572ms
2025-10-28 23:38:48.952 +05:30 [INF] Executed endpoint 'BuddyGoals.Controllers.AuthController.Login (BuddyGoals)'
2025-10-28 23:38:48.958 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/auth/login - 200 null application/json; charset=utf-8 677.3874ms
